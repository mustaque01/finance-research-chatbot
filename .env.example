# Environment Configuration for Finance Research Chatbot

# ===== General Settings =====
NODE_ENV=development
CORS_ORIGIN=http://localhost:3000

# ===== Database Configuration =====
POSTGRES_DB=finance_chatbot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql://postgres:your_secure_password_here@postgres:5432/finance_chatbot

# ===== Redis Configuration =====
REDIS_URL=redis://redis:6379

# ===== Authentication =====
JWT_SECRET=your_jwt_secret_key_change_in_production_minimum_32_characters
JWT_EXPIRES_IN=7d

# ===== API URLs =====
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3001
AGENT_SERVICE_URL=http://agents:8000

# ===== AI Service API Keys =====
# OpenAI (primary LLM)
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic Claude (alternative LLM)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ===== Search & Web Scraping =====
# Tavily (primary web search)
TAVILY_API_KEY=your_tavily_api_key_here

# SerpAPI (alternative search)
SERPAPI_KEY=your_serpapi_key_here

# ===== Financial Data APIs =====
# Alpha Vantage (stock data)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# Financial Modeling Prep (financial statements)
FMP_API_KEY=your_fmp_api_key_here

# Yahoo Finance (free, no key needed)
YAHOO_FINANCE_ENABLED=true

# ===== Vector Database =====
# Pinecone (managed vector DB)
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment
PINECONE_INDEX_NAME=finance-research-memory

# Alternative: pgvector (PostgreSQL extension)
# Set to true to use pgvector instead of Pinecone
USE_PGVECTOR=false

# ===== Memory Configuration =====
# Short-term memory (Redis checkpoints)
MEMORY_CHECKPOINT_TTL=86400  # 24 hours in seconds

# Long-term memory settings
MEMORY_SIMILARITY_THRESHOLD=0.7
MEMORY_MAX_TOKENS=2000

# ===== Agent Configuration =====
# Default LLM model to use
DEFAULT_LLM=openai  # or 'anthropic'
OPENAI_MODEL=gpt-4-turbo-preview
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Agent behavior settings
MAX_SEARCH_RESULTS=10
MAX_SOURCES_PER_RESPONSE=8
RESEARCH_DEPTH=deep  # 'shallow', 'medium', or 'deep'

# Timeout settings (seconds)
AGENT_TIMEOUT=300
SEARCH_TIMEOUT=30
SCRAPING_TIMEOUT=15

# ===== Development Tools =====
# pgAdmin credentials (development only)
PGADMIN_EMAIL=admin@finance-chatbot.local
PGADMIN_PASSWORD=admin123

# Logging level
LOG_LEVEL=info  # debug, info, warn, error

# ===== Rate Limiting =====
RATE_LIMIT_WINDOW=900000  # 15 minutes in ms
RATE_LIMIT_MAX_REQUESTS=100

# ===== File Upload (for document analysis) =====
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,txt,csv,xlsx

# ===== Email Configuration (for notifications) =====
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
FROM_EMAIL=noreply@finance-chatbot.local

# ===== Monitoring & Analytics =====
# Optional: Analytics and monitoring
SENTRY_DSN=your_sentry_dsn_here
ANALYTICS_ENABLED=false

# ===== Security =====
# CORS settings
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE
CORS_CREDENTIALS=true

# Rate limiting
ENABLE_RATE_LIMITING=true

# Request size limits
MAX_REQUEST_SIZE=1mb
MAX_JSON_SIZE=1mb